# Use an official Rust base image\nFROM rust:1.70 as builder\n\n# Set the working directory\nWORKDIR /usr/src/facial_recognition\n\n# Copy the Cargo files\nCOPY Cargo.toml Cargo.lock ./\n\n# Create a dummy src/lib.rs to build dependencies\nRUN mkdir src && \\\n    echo \"fn main() {}\" > src/main.rs\n\n# Build dependencies only, so they are cached if Cargo.toml/Cargo.lock don't change\nRUN cargo build --release\nRUN rm src/*.rs\n\n# Copy the source code\nCOPY src ./src\n\n# Build the application\nRUN cargo build --release\n\n# Use a minimal base image for the runtime\nFROM gcr.io/distroless/cc-debian12\n\n# Copy the binary from the builder stage\nCOPY --from=builder /usr/src/facial_recognition/target/release/facial_recognition /facial_recognition\n\n# Command to run the application\nENTRYPOINT [\"/facial_recognition\"]